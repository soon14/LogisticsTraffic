软件需求整理  
===========================================
*更新日期：2016年5月17日 @张智勇*

[TOC]

*更新日期：2016年5月18日*
[车辆发布](#20160518-1)
[车队](#20160518-2)
[店铺搜索](#20160518-3)

## 客户端
	客户端功能需求整理 包括 Android iOS PC
##### 用户系统 
 * 登录
 * 注册
 * 忘记密码（短信验证码登录）
 * 修改密码
 * 个人信息修改
 * 角色信息修改
 	- 物流
 		+ 资质信息 上传 审核 (审核后不可修改,特殊情况打客服 后台修改)
 		+ 店铺信息 编辑 (用户软件首页的显示)
 	- 企业
 		+ 资质信息 上传 审核(特殊情况 打电话 客服修改)
 		+ 标书编辑 上传
 	- 司机
 		+ 司机资质信息 上传 审核(特殊情况 打电话 客服修改)
 		+ 车辆信息 上传 审核 增加
 		+ 车辆 管理

##### 照片上传
- 照片的上传
- 照片的删除
- 重复照片的判断（预留）
- 无效照片的判断（没有在数据库中）

##### 订单系统
- 订单创建
- 订单分配
	+ 企业 => 物流
	+ 企业 => 司机
	+ 物流 => 司机
	+ 企业 => 物流平台
	+ 企业 => 货源平台 车队司机可见
	+ 物流 => 货源平台 车队司机可见
	+ 物流 => 货源平台 所有司机可见
- 物流抢单(未实现)
	1. 物流抢单 提交报价
	2. 企业查看并选择物流报价
	3. 物流/企业确认报价信息
- call车(将订单发布到货源平台) (附加报价信息)
	+ 企业 call 车队司机
	+ 物流 call 车队司机
	+ 物流 call 平台司机
- 司机抢单(返回报价信息)
	+ 抢车队的货源平台
	+ 抢公共的货源平台
- 选择抢单司机
	1. 查看抢单司机列表(附带司机的报价)
	2. 选择司机
- 司机装货
- 确认司机装货
	+ 企业确认司机装货
	+ 物流确认司机装货
- 确认收货人收货
	+ 验证码发送
	+ 验证码验证

- 分配司机(开始交易)
- 司机装货
- 确认司机装货
- 确认收货人收货(交易完成)
- 订单撤回
- 订单作废

##### 报价系统
- 司机报价
	+ 物流公司/企业 call车之前 定价 => 司机直接抢单
	+ 物流公司/企业 没有给定价 => 司机抢单时要填写报价
	+ 物流公司/企业 根据抢单列表 选择司机
- 物流报价
	1. 企业将订单发布到物流平台
	2. 物流根据订单 填写报价 并抢单
	3. 企业在抢单列表里选择 物流公司
	4. 订单交给物流公司处理 

##### 评价系统
- 评价内容列表
	+ 内容
	+ 被评价者
	+ 评价者
	+ 等级 评分
	+ 时间
- 评价对象
	+ 司机 => 物流
	+ 物流 => 司机
	+ 司机 => 企业
	+ 企业 => 司机
- 评分计算
	`评分的计算公式 现在是求平均值`

<h5 id="20160518-1" ></h5>
##### 车辆发布
	司机用户将车辆发布出来，让信息部能够查看到，并进行加入车队的操作。
- 流程
	1. 司机编辑车辆信息并上传
	2. 服务器审核车辆信息
	3. 司机将审核通过的车辆信息,发布到车源平台
	4. 信息部查看车源平台,联系司机或 将司机加入信息部的车队
- 接口列表
	+ 车辆发布接口
	+ 车源列表 加筛选字段
	+ 车源详细信息(包括 司机 车辆 等信息)

<h5 id="20160518-2" ></h5>
##### 车队
	车队是由企业 或 信息部 创建的，可通过此功能实现小范围的抢单、接单操作。
- 车队列表获取
- 成员添加
- 成员删除
- 我加入的车队列表

<h5 id="20160518-3" ></h5>
##### 店铺搜索
	信息部搜索 优化用户搜索信息部的过程
- 店铺名称搜索 模糊匹配
- 常发线路搜索
- 位置搜索 (软件首页的显示列表可用此搜索结果)
- 点击量排序
- 好评排序
- 平台推荐排序(收推广费)

##### 钱包系统
- 充值功能
	充值渠道:
	- 支付宝
	- 微信
	- 银联
	- 银行卡转账
- 提现功能
	提现方式:
	- 支付宝
	- 微信
	- 银行卡
- 消费功能
	消费方式:
	- 充值会员
	- 运费支付
		* 企业 => 信息部 => 司机 
			`通过报价结算，信息部 赚取 差价`
		* 企业 => 司机
				`根据每个司机的报价 支付费用`
	- 信息费支付
		`信息部直接收取  按次收费 `
		流程:
		1. 司机抢单时 先支付信息费(由信息部自己设定信息费金额)(先交到平台,平台代收)
		2. 信息部 确认司机装货后 将司机缴纳的信息费 转给 信息部(如果司机没有去装货,这部分费用也不退回)
		3. 将未抢到订单司机的信息费 退回 (信息部确认司机后)
	- *违规费用支付*
		`功能待定`
				
- 账单


## 后台管理系统（后台）
##### 用户管理
+ 账号信息查看
+ 账号冻结
+ 账号删除
+ 子账号创建
	> 主要针对企业用户, 相当于部门领导人 给 员工分配工作账号。
	> 领导人账号 可以查看所有的员工账号名下的订单
	> 员工之间不能互相查看订单
	> 员工账号不能修改 角色信息
 
+ 角色管理(*类似于审核 考虑是否和审核合并*)
	* 信息部的显示与否(主要是针对首页的列表显示)
	* 角色信息的真实性查询
	* 角色信息的管理
	* 角色信息统计
+ 司机车辆管理
	司机的多个车辆审核 管理
	
##### 审核系统(*前期人工审核,后期加入电脑审核*)
* 用户审核
* 审核信息的反馈
* 审核状态的更改
	
##### 订单管理系统
+ 订单查看 搜索
+ 订单的状态修改(用于客服解决纠纷)
+ 订单的删除 防止刷单 或恶意订单
+ 订单的信息统计
+ 货源列表 查看 搜索
+ 货源撤销 (客服解决纠纷)

##### 评价管理
+ 评价列表 查看 搜索
+ 评价内容关键字审核 或者是屏蔽
+ 评价中评分的计算方式

##### 交易管理
+ 用户的充值记录 查看 搜索
+ 会员的购买记录 查看 搜索
+ 用户的消费记录
	* 信息部 信息费
	* 运输费用
	* 会员购买费用
+ 退款
+ 用户提现记录
+ 资金流向统计(或者说消费统计)

##### 地区管理
+ 开通的地区管理 增加 删除
+ 地区信息的录入(软件欢迎页上显示)

##### 软件版本管理
+ Android
	`有司机 和 企业版 两个版本`
	* 版本号
	* 版本名
	* 版本说明
	* 更新内容说明
	* 安装包上传

+ iOS
	`跳转到苹果商店`

+ PC
	`针对企业和物流用户`

##### 车辆管理
- 车辆信息查询
	+ 车牌查询
	+ 车主名字查询
	+ 车型查询
	+ 车辆状态查询
	+ 车队查询
- 车辆状态修改
	+ 审核状态
	+ 冻结
	+ 封号
- 车辆信息统计
	+ 车型统计
	+ 运输状态统计
	+ 位置统计


	



